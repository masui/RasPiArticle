<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Raspberry PiをAVサーバにしよう</title>
<link rel="stylesheet" href="sd.css" type="text/css">
</head>
<body>
<h2>Raspberry PiをAVサーバにする (1)</h2>

ArduinoやRaspberry Piのようなワンボードコンピュータが流行しています。

工作が大好きな女子大生がこのようなものを使って変な工作をする
「ハルロック」という漫画が週間モーニングに連載されるなど
ついにワンボードコンピュータの時代がキタ! のかもしれません。

<p>
私が高校生のころ(1970年代!)はCPU(8008!)を買ってコンピュータを自作したりしていたものですが、
こういう工作趣味の世界が再び流行してきたことをとても喜んでいます。

私もハルロックの主人公の「はるちゃん」に負けてはいられない! 
ということで工作机を復活させたりしているのですが、
老眼気味で小さい部品のハンダづけなどに苦労しています。(sigh)

<blockquote>
<img src="http://gyazo.com/d868c4998c7a2c37b82954663a7d0857.png">
</blockquote>

1990年代のはじめ、私は
現在のMac OSのもととなったNeXT Workstationの上で
Emacsでプログラムを書いたりTeXで論文を書いたりしていました。
NeXTStationは15MIPSだったようですが、
RasPiは数百MIPSの性能を持っていますから、
値段は1/100以下になり性能は100倍になったといえます。

<h3>Raspberry Pi</h3>

Raspberry Piは安価な小型ワンボードコンピュータであるにもかかわらず
DebianなどのLinuxが動作し、標準的なUSB/Eternet/HDMIを利用でき、
ハードウェア入出力ポートも登載しているので
様々な実用的な用途に利用することができます。

<p>
Arduinoのようなワンボードコンピュータは
ユビキタスコンピューティングに向いているのですが、
単体ではネット接続ができませんし、
プログラミング環境も充分ではありません。

Raspberry Piの場合は
Linuxが動くので、
一般的な方法でネット通信もコンパイルもできます。

RubyでもNodeでも普通に使えるところが大きな魅力です。

普通にgitを使える。

Mathematicaすら使える

<p>
最近は
Intel Edisonや
BeagleBone,
Banana Pi
など様々な小型ワンボードコンピュータが利用可能になっており、
必ずしもRasPiがもっとも良いというわけではありませんが、
現時点ではRasPiが最もポピュラーなのでこれを使うのは安全だとはいえるでしょう

<ul>
<li>Banana Pi
http://akiba-pc.watch.impress.co.jp/docs/news/news/20150115_683809.html
<li>BeagleBoardのBeagleBone
http://beagleboard.org/
</ul>

<h3>Raspberry Piを何に使うか</h3>

しかし現在一般的なパソコンに比べると、
RasPiは
パワーや信頼度があるわけではないし、ブラウザが弱力だったりするので普通の用途にはあまり
おすすめできません。

<p>
実際いろいろ運用していると、
電源まわりのコンデンサがはずれてしまったり/SDカードが何故か消えてしまったり.../
うっかりUSB機器を挿すと電源が落ちてしまったり/
パソコンとは安定度がかなり違います。

<p>
何にでも使えるので、どう使おうか悩んでしまうのは確かですが、
普通のパソコンのかわりに使おうとすると速度や安定性の問題があるので
やはり荷が重いと思われます。

<p>
これまでコンピュータを置くのが難しかったような場所で、
これまでとは違う用途で使ってみるというのがよい気がします。

<p>
私の研究室では、ネット経由の通信でドアを開閉したり、
研究室内のセンサ情報を集めて外部からアクセス可能にしたり、
「実世界コンピューティング」のためにRasPiを活用しています。
前述のようなハード的/ソフト的なトラブルもよくあるのですが、
それも勉強ということで
気軽に修理したり再インストールしたりしながら明るく利用しています。

安定性やセキュリティが必要な場所で使うことは今のところおすすめできません。

<h2>RasPiをAVセンターとして使う</h2>

RasPiは計算力は貧弱ですが
動画や音楽を再生する機能は強力ですし
HDMI出力が標準登載されているので、
「テレビに接続して動画/音楽サーバとして使う」というのは結構アリだと思われます。

実はRaspberry PiはCPU性能は
BeagleBoneなどと比べて劣っているのですが、
動画再生機能だけは他のワンボード計算機より優れているらしいので、
Raspberry PiをAVセンターとして利用することは理にかなってるといえるでしょう。

<!--
> Dan Kogai GPUというか、厳密には動画周りだけがとびっきり優秀で、あとはふ
> つう(の|に非力な)SoCですね。Software Designに記事書くためあれこれ調べた
> のですが、ruby 2.1ビルドに二時間以上かかりました

> ラズパイが唯一beagleboneに勝ってるのが動画再生らしいですね
-->

最近のテレビは大抵インターネット接続機能を持っていますし、
テレビをAVセンターとして使うための小型計算機も
様々なものが販売されています。有力なところでは以下のようなものがありあす。

TV Stickと呼ぶものらしい

<ul>
<li>AppleTV
<li>Chromecast
 https://www.google.co.jp/chrome/devices/chromecast/
<li>dstick
 http://www.docomo-dstick.jp/
 http://www.amazon.co.jp/dp/B00CK5G67O
<li>Android TV
 http://weekly.ascii.jp/elem/000/000/291/291967/
 AndroidからTVコンテンツ操作
<li>au smart TV Stick
<li>Fire TV Stick
</ul>

RasPiをAV的に使うのはすごく流行っている
  しかしリモコンが面倒すぎる
  これをなんとかすべきだろう
<p>
RasPiでも、「RaspBMC」というAV再生専用のOSが出ており、
RasPiをこれらの専用機器と同じように使うことも可能です。

実際、そのような用途専用のOSディストリビューション「RaspBMC」も配付されています。

<p>
これらの機器を使うと
従来のテレビでネット上の大量のコンテンツを楽しむことができるのは
大変便利なのですが、
従来の家電のような「リモコンによる制御」感覚満載なのが嫌なところです。 

エンジニアとしては、
コンテンツ選択のインタフェースが決まっているのが面白くないですし、
自分はインタフェースの研究者なので、
  もっと自由にコンテンツを選んだりしたいかもと思います。

ということは、
  エンジニアとしては、
    Linux的特徴を活用しつつAV機器として利用するというのがとりあえず嬉しそう
    もしくはあちこちに置いて使う
  特に
    ネット通信ができること
    いろんなUSBデバイスが使えること
    スイッチぐらいなら直結できること
    が良いところだといえる

いろんな方法でコントロールすればいい
KBでもネットでもGPIOでもいいだろう


AV操作したい
写真表示したい

地味にいろんなところで便利に使うのがいいんじゃないか

旅に持って行くのに良いんじゃないかと思っている
旅行先でアニメを見たい! みたいなのに使えるのではないか
  最近はどこでもHDMIテレビがあるので

もちろん実世界にいろいろ置くのも良いのだけど
  shokaiとかが説明している

<h2>Gear</h2>

最近のテレビのリモコンには何十個ものボタンがついているのが普通で、
使うのが難しいことが常識になってしまっています。

昔のiPodでは回転ダイヤルや上下左右ボタンを使って
簡単にコンテンツを選択できるようになっていましたし、
AppleTVではごく少数のボタンをもつリモコン使ってあらゆる操作を行なえるようになっています。
***が売っていたU10というプレーヤでは筐体の端が上下左右ボタンになっていて、
装置端を押すことによってコンテンツを選択できるのが便利でした。

上下左右ボタンで

それでも数個のボタンを使い分ける必要がありますし、
そもそもリモコンを使わなければならないという問題は変わりません。

機器を操作するのにリモコンを使うのは当たり前だと思われていますが、
実際にユーザがやりたいことは「映画を見る」といったことであって、
「AV機器を操作したい」ことが目的ではありませんから、
「リモート」に「コントロール」する感覚はなるべく無くなってほしいものです。

例えばMacのデスクトップ画面でファイルを操作するプログラム(ファインダ)では，
ファイルの階層構造を視覚化/ナビゲーションするために数種類の手法が用意されており，
マウスやキーの操作で階層型ファイルシステムのナビゲーションを行なうことができるようになっている．

パソコンや携帯機器のキーやボタンを利用して階層構造データのナビゲーションを行なう場合，
階層を上下に移動したり
項目のリスト内を移動したりすることによって目的の情報を捜すのが普通である．
たとえば上下矢印キーを使ってファイルやフォルダを選択したり，
左右矢印キーを使って階層を移動したりすることによって目的のファイルに到達できるものが多い．

このような手法でナビゲーションを行なうためには，
通常3個以上のキーやスイッチが必要になる．
%
MacやWindowsのデスクトップ画面、
AppleTVやAppleRemoteのようなリモコン、
iRiverの携帯プレーヤ
などでは
上下左右4方向のキーで階層データのナビゲーションを行なうようになっているものが多いようです。

またジョグダイヤルを登載した昔の携帯電話や携帯端末では、
ダイヤルを回す操作とダイヤルを押す操作を組み合わせて
項目を選択したり階層を移動したりするものがありました。

%一方，
2個のスイッチだけで階層情報のナビゲーションを実行することができれば，
4方向キーや押しボタンつきジョグダイヤルなどよりも単純な装置を使って
階層情報のナビゲーションが可能になり，
いつでもどこでも誰でも簡単にデータを検索することができるようになる可能性がある．
%
本論文では，2個のスイッチだけを使って
階層構造を効率的にナビゲーションする「{\GEAR}」システムについて述べる．

4buttons.png
\caption{携帯プレーヤu10(左)とAppleRemoe(右)の4方向ボタン}

私は、
簡単な操作でコンテンツを選択して再生する新しい「Gear」[cite]という手法を提案しています。
Gearではコンテンツを選択するのに二個のスイッチだけを利用します。



利用デバイス
  GPIO
  普通のマウスとか

<img src="gear.png" width="600" />

</body>
</html>
